<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>FLEPACO – Flexible Packaging Consulting</title>
  <meta name="description" content="FLEPACO – Flexible Packaging Consulting.">
  <meta name="robots" content="index,follow">

  <style>
    :root{
      --bg:#f4f6fb;     /* minimaler Grauton */
      --text:#0b1220;
      --muted:#5f6b86;
      --line:#e3e7f2;
      --brand:#5eead4;
    }
    *{box-sizing:border-box}

    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:var(--bg);
      color:var(--text);
      min-height:100vh;
      display:grid;
      place-items:center;
      padding:24px;
    }

    main{
      width:100%;
      max-width:760px;
      text-align:center;
      padding:48px 32px;
    }

    .stack{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:14px;
    }

    .logo{
      display:flex;
      justify-content:center;
      align-items:center;
      line-height:0;
      color:var(--text);
    }

    .logo img{
      height:76px;
      width:auto;
      display:block;
    }

    h1{
      margin:0;
      font-size:22px;
      font-weight:600;
      letter-spacing:.2px;
    }

    .lang{
      display:flex;
      justify-content:center;
      gap:16px;
      margin-top:18px;
    }

    .btn{
      padding:12px 22px;
      border-radius:999px;
      border:1px solid var(--line);
      text-decoration:none;
      color:var(--text);
      font-weight:500;
      background:rgba(255,255,255,.65);
      transition:transform .15s ease;
    }

    .btn.primary{
      background:var(--brand);
      border-color:transparent;
      color:#06201c;
      font-weight:700;
    }

    .btn:hover{transform:translateY(-1px)}

    .note{
      margin-top:14px;
      font-size:13px;
      color:var(--muted);
    }

    footer{
      margin-top:28px;
      font-size:13px;
      color:var(--muted);
    }

    footer a{
      color:inherit;
      text-decoration:none;
      margin:0 6px;
    }

    @media(max-width:600px){
      main{padding:36px 20px}
      .logo img{height:58px}
      h1{font-size:20px}
    }
  </style>
</head>

<body>
  <main>
    <div class="stack">
      <div class="logo" aria-label="FLEPACO">
        <img src="/flepaco-online/assets/logo.svg" alt="FLEPACO">
      </div>
      <h1>Flexible Packaging Consulting</h1>
    </div>

    <div class="lang" aria-label="Language selection">
      <a href="/flepaco-online/de/" class="btn primary"
         onclick="localStorage.setItem('flepaco_lang_selected','1')">Deutsch</a>
      <a href="/flepaco-online/en/" class="btn"
         onclick="localStorage.setItem('flepaco_lang_selected','1')">English</a>
    </div>

    <div class="note" id="autoNote" style="display:none">
      Automatische Weiterleitung… (du kannst auch oben eine Sprache wählen)
    </div>

    <footer>
      © <span id="y"></span> FLEPACO ·
      <a href="/flepaco-online/impressum.html" onclick="localStorage.setItem('flepaco_lang_selected','1')">Impressum</a> ·
      <a href="/flepaco-online/datenschutz.html" onclick="localStorage.setItem('flepaco_lang_selected','1')">Datenschutz</a>
    </footer>
  </main>

  <script>
    document.getElementById("y").textContent = new Date().getFullYear();

    (function () {
      try {
        const params = new URLSearchParams(location.search);

        // Wenn ?noauto=1 gesetzt ist -> niemals automatisch weiterleiten (praktisch zum Testen)
        if (params.get("noauto") === "1") return;

        // Nur auf der Root-Seite ausführen
        const path = location.pathname.replace(/\/+$/, "");
        const onRoot = path === "/flepaco-online" || path === "/flepaco-online/index.html";
        if (!onRoot) return;

        // Wenn User schon einmal bewusst gewählt hat -> nicht automatisch weiterleiten
        if (localStorage.getItem("flepaco_lang_selected") === "1") return;

        // Hinweis einblenden
        document.getElementById("autoNote").style.display = "block";

        const lang = (navigator.language || "en").toLowerCase();
        const target = lang.startsWith("de")
          ? "/flepaco-online/de/"
          : "/flepaco-online/en/";

        // Verzögerung, damit du die Startseite mit Logo siehst
        setTimeout(() => {
          location.replace(target);
        }, 1200); // 1.2 Sekunden
      } catch (e) {}
    })();
  </script>
</body>
</html>
